# ==============================================================
# ğŸ” CONFIGURATION DE SECURITE ET DE ROUTAGE POUR L'API (APACHE)
# ==============================================================

# âœ… Activer la rÃ©Ã©criture d'URL
RewriteEngine On

# ğŸš« Interdire l'accÃ¨s aux fichiers sensibles (.env, .git, etc.)
<FilesMatch "^\.(env|git|htaccess|htpasswd|ini|log|json|md|xml)$">
    Require all denied
</FilesMatch>

# ğŸš« Bloquer lâ€™accÃ¨s direct Ã  certains rÃ©pertoires sensibles
RedirectMatch 403 ^/(vendor|node_modules|config|core|private|backup)/.*

# ğŸš« DÃ©sactiver la navigation dans les rÃ©pertoires
Options -Indexes

# ğŸš« EmpÃªcher lâ€™exÃ©cution de scripts PHP dans des dossiers spÃ©cifiques (uploads, etc.)
<Directory "uploads">
    php_flag engine off
</Directory>

# âœ… Rediriger toutes les requÃªtes non existantes vers index.php (API Router)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]
